{% extends 'layout.html.twig' %}

{% block title %}
	{{ parent() }} Home
{% endblock %}

{% block body %}
	<div class="d-flex mt-5 justify-content-center">
		<div class="col-8">
			<h1 class="tweets-from">Home</h1>
			{% include "Components/_marser.html.twig" %}
			{% for message in messages %}
				<div class="cardTweet col-12 p-4 mb-2">
					<div class="tweetHeader col-12 mb-4 d-flex flex-row align-items-center">
						<img class="rounded-circle me-3 profilePic" src="/../uploads/{{ message.profile_picture }}" alt="profile-picture">
						<div class="d-flex flex-row align-items-center">
							<p class="fw-bolder content username mb-0 me-2">{{ message.username }}</p>
							{% if message.profile_certified == true %}
								<img class="certified me-2" src="/../uploads/certified.png" alt="certified-logo">
							{% endif %}
							<p class="mb-0 postDate">• {{ message.post_date|date("d/m/Y • H:i") }}</p>
						</div>
					</div>
					<div class="col-12 my-2">
						<p class="lead content">{{ message.content }}</p>
						{% if message.photo_id is not empty %}
							<img class="tweetImg" id="myImg" src="/../uploads/{{ message.name }}" alt="{{ message.name }}">
							<!-- The Modal -->
							<div id="myModal" class="modal">
								<span class="close">&times;</span>
								<img class="modalContent" id="img01">
								<div id="caption"></div>
							</div>
						{% endif %}
					</div>
					<div class="d-flex flex-row align-items-center">
						<a class="my-2" href="/home/like/{{ message.id_message }}">
							<i class="far fa-star me-1"></i>
						</a>
						<p class="likesCount mb-0">{{ message.likes_counter }}</p>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
